<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Descargador MP3 Profesional</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --accent: #00ffa3; --bg: #0f172a; }
        body {
            font-family: 'Segoe UI', sans-serif;
            background: var(--bg); color: white;
            display: flex; align-items: center; justify-content: center;
            height: 100vh; margin: 0;
        }
        .card {
            background: #1e293b; padding: 40px; border-radius: 20px;
            width: 90%; max-width: 420px; text-align: center;
            border: 1px solid #334155; box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }
        h1 { color: var(--accent); margin-bottom: 20px; }
        input {
            width: 100%; padding: 15px; border-radius: 10px;
            border: 1px solid #334155; background: #0f172a;
            color: white; margin-bottom: 20px; outline: none; box-sizing: border-box;
        }
        .btn-convertir {
            width: 100%; padding: 15px; border-radius: 10px;
            background: var(--accent); color: #0f172a;
            border: none; font-weight: 800; cursor: pointer;
            font-size: 1rem; transition: 0.3s;
        }
        #resultado {
            margin-top: 25px;
            display: none; /* Se activa al poner el link */
        }
        iframe {
            width: 100%; height: 60px; border: none; border-radius: 10px;
        }
    </style>
</head>
<body>

    <div class="card">
        <i class="fas fa-music" style="font-size: 3rem; color: var(--accent); margin-bottom: 15px;"></i>
        <h1>MP3 Downloader</h1>
        <p style="margin-bottom: 20px; opacity: 0.7;">Descarga directa sin publicidad</p>

        <input type="text" id="urlVideo" placeholder="Pega el link de YouTube aquí">
        
        <button class="btn-convertir" onclick="prepararDescarga()">
            <i class="fas fa-sync-alt"></i> OBTENER BOTÓN MP3
        </button>

        <div id="resultado">
            <p style="font-size: 0.8rem; color: var(--accent); margin-bottom: 10px;">¡Listo! Haz clic abajo:</p>
            <div id="api-container"></div>
        </div>
    </div>

    <script>
        function prepararDescarga() {
            const url = document.getElementById('urlVideo').value.trim();
            const res = document.getElementById('resultado');
            const container = document.getElementById('api-container');

            if (!url.includes("youtu")) {
                alert("Por favor pega un enlace de YouTube válido.");
                return;
            }

            res.style.display = "block";
            
            // Esta API es de las pocas que permite embeber el botón en GitHub
            // Genera el botón de "Download" sin sacarte de tu web.
            container.innerHTML = `
                <iframe src="https://button.yt2mp3.xyz/button/mp3/${extraerID(url)}" 
                scrolling="no"></iframe>
            `;
        }

        function extraerID(url) {
            const regex = /(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/;
            const match = url.match(regex);
            return (match && match[1]) ? match[1] : url;
        }
    </script>
</body>
</html>
